#!/usr/bin/env bash
set -euo pipefail

if ! command -v gum &>/dev/null; then
  echo "gum is not installed. Please run 'brew install gum'"
  exit 1
fi

choice=$(gum choose \
  "ğŸ›   Run Full Restore" \
  "ğŸ”  Restore Secrets Only" \
  "ğŸ“¤  Backup Secrets to Bitwarden" \
  "ğŸ¨  Setup Terminal Theme (Font + Theme)" \
  "ğŸ”  Finalize Setup (plugins, completions)" \
  "ğŸ“¦  Lint Dotfiles" \
  "âŒ  Exit")

case "$choice" in
  "ğŸ›   Run Full Restore")       ~/bin/dev-env/restore ;;
  "ğŸ”  Restore Secrets Only")  ~/bin/secrets/restore ;;
  "ğŸ“¤  Backup Secrets to Bitwarden")  ~/bin/secrets/backup ;;
  "ğŸ¨  Setup Terminal Theme (Font + Theme)") ~/bin/bootstrap/setup-terminal-theme ;;
  "ğŸ”  Finalize Setup (plugins, completions)") ~/bin/dev-env/finalize ;;
  "ğŸ“¦  Lint Dotfiles")         ~/bin/dev-env/lint-dotfiles ;;
  "âŒ  Exit")                  echo "Bye ğŸ‘‹"; exit 0 ;;
esac
