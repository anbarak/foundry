#!/usr/bin/env bash
set -euo pipefail

echo "ğŸ§ª Running dotfile linter..."
"$HOME/bin/dev-env/lint-dotfiles"
echo "âœ… Linting complete."

# ğŸ§ª Handle dry-run
if [[ "${1:-}" == "--dry-run" ]]; then
  echo "âœ… Dry run complete. Skipping commit."
  exit 0
fi

# ğŸ“ Commit and push
read -rp "ğŸ“ Commit message: " msg
yadm commit -am "$msg"
yadm push origin main

echo "ğŸš€ Dotfiles committed and pushed to GitHub!"
